(this["webpackJsonpmqtt-app"]=this["webpackJsonpmqtt-app"]||[]).push([[0],{177:function(e){e.exports=JSON.parse('{"region":"ap-northeast-2","cognitoUserPoolId":"ap-northeast-2_0OJVDWgPa","cognitoUserPoolClientId":"3siov6brjoecvq3d0djgrsohvd","cognitoIdentityPoolId":"ap-northeast-2:b100e387-8238-4ac6-a1e2-5d18dd5ec77a","mqttBrokerEndpoint":"a37j5ardzq7hal-ats.iot.ap-northeast-2.amazonaws.com"}')},351:function(e,t,n){"use strict";n.r(t);var a,o=n(8),r=n.n(o),i=n(175),s=n.n(i),c=n(176),l=n(57),d=n(123),u=n(84),b=n(83),j=n(177),p=n(393),x=n(396),g=n(395),h=n(185),O=n(178),m=(n(293),n(18)),f=function(e){var t=e.title,n=e.time,a=e.value,r=Object(o.useState)([]),i={labels:[],datasets:[{label:t,fill:!1,borderColor:"rgba(255, 99, 132, 0.2)",backgroundColor:"rgb(255, 99, 132)",lineTension:.1,data:Object(l.a)(r,1)[0]}]},s={scales:{xAxes:[{type:"realtime",realtime:{onRefresh:function(e){e.data.datasets.forEach((function(e){e.data.push({x:n,y:a})}))},delay:2e3,duration:2e4}}],yAxes:[{ticks:{min:1,max:1e3}}]}};return Object(m.jsx)("div",{children:Object(m.jsx)(O.Line,{width:350,height:200,data:i,options:s})})};var v=Object(p.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.primary}}}));function I(){var e;e=j,d.default.configure({Auth:{userPoolId:e.cognitoUserPoolId,userPoolWebClientId:e.cognitoUserPoolClientId,identityPoolId:e.cognitoIdentityPoolId,region:e.region}}),d.default.addPluggable(new b.AWSIoTProvider({aws_pubsub_region:e.region,aws_pubsub_endpoint:"wss://".concat(e.mqttBrokerEndpoint,"/mqtt")}));var t=Object(o.useState)([]),n=Object(l.a)(t,2),a=n[0],r=n[1],i=Object(o.useState)([0,0,0,0,0]),s=Object(l.a)(i,2),c=s[0],p=s[1],h=Object(o.useState)(""),O=Object(l.a)(h,2),I=O[0],P=O[1],y=v();return Object(o.useEffect)((function(){u.a.subscribe("app/test",{provider:"AWSIoTProvider"}).subscribe({next:function(e){r(e.value.fields),p(e.value.values),P(JSON.stringify(e)),console.log(e)},error:function(e){return console.log(e)}})})),Object(m.jsx)(o.Suspense,{fallback:Object(m.jsx)("div",{children:"Loading...."}),children:Object(m.jsxs)(g.a,{container:!0,spacing:3,children:[Object(m.jsx)(g.a,{item:!0,xs:12,children:Object(m.jsx)(x.a,{className:y.paper,children:" Hello world "})}),a.map((function(e,t){return"timestamp"===e?null:Object(m.jsx)(g.a,{item:!0,xs:4,children:Object(m.jsx)(w,{children:Object(m.jsx)(f,{title:e,value:c[t],time:Date.now()})})})})),Object(m.jsx)(g.a,{item:!0,xs:12,children:Object(m.jsxs)(x.a,{className:y.paper,variant:"outlined",square:!0,children:[Object(m.jsx)("p",{children:" This is provider context "}),Object(m.jsxs)("p",{children:[" ",I," "]})]})})]})})}var P=r.a.memo(I),w=h.a.div(a||(a=Object(c.a)(["\n  margin-top: 10px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n    "])));s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(P,{})}),document.getElementById("root"))}},[[351,1,2]]]);
//# sourceMappingURL=main.cc662559.chunk.js.map